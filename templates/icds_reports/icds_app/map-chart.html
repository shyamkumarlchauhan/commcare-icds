<div class="map-chart">
    <div class="row no-margin fixes-filters">
        <div class="col-md-4">
            <span class="breadcrump-element" ng-bind="$ctrl.label"></span>
            <span ng-show="$ctrl.step !== void(0)" class="breadcrump-element"> <i class="fa fa-chevron-right" aria-hidden="true"></i> </span>
            <span ng-show="$ctrl.step !== void(0)" class="breadcrump-element" ng-bind="$ctrl.steps[$ctrl.step].label"></span>
        </div>
        <div class="col-md-7">
            <filters filters="$ctrl.filters" data="$ctrl.filtersData"></filters>
        </div>
        <div class="col-md-1">
            <print-report></print-report>
            <a class="black" href="#download"><i style="padding: 3px;" class="fa fa-download fa-2x pointer"></i></a>
        </div>
    </div>
    <div class="report-content">
        <div class="row black" ng-if="$ctrl.step === 'map'">
            <div class="col-md-12" ng-if="$ctrl.loaded && $ctrl.mode">
                <map-or-sector-view template-popup="$ctrl.templatePopup(loc, row)" mode="{$ $ctrl.mode $}" data="$ctrl.data"></map-or-sector-view>
            </div>
        </div>
        <div class="row black" ng-if="$ctrl.step === 'chart' && $ctrl.chartData !== null">
            <div class="row">
                <nvd3 options="$ctrl.chartOptions" data="$ctrl.chartData" class="with-3d-shadow with-transitions"></nvd3>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="small-table">
                        <div class="small-table-title">Top 3 {$ $ctrl.location_type $}s</div>
                        <div class="small-table-record" ng-repeat="top in $ctrl.top_three">
                            <span class="circle-green" ng-bind="$index + 1"></span>
                            <span style="font-size: 30px;" ng-bind="top.loc_name"></span>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="small-table">
                        <div class="small-table-title">Bottom 3 {$ $ctrl.location_type $}s</div>
                        <div class="small-table-record" ng-repeat="bottom in $ctrl.bottom_three">
                            <span class="circle-red" ng-bind="3 - $index"></span>
                            <span style="font-size: 30px;" ng-bind="bottom.loc_name"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row fixed-dots">
        <div class="dot-menu">
            <div class="dot-menu-item pointer" ng-repeat="step in $ctrl.steps">
                <dot-link label="{$ step.label $}" route="{$ step.route $}"></dot-link>
            </div>
        </div>
    </div>
</div>
