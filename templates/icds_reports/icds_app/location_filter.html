<div ng-repeat="locationTypes in $ctrl.hierarchy" ng-show="$ctrl.isVisible($index)">
    <ui-select ng-model="$ctrl.selectedLocations[$index]" theme="bootstrap" on-select="$ctrl.onSelect($item, $index)">
        <ui-select-match placeholder="{$ $ctrl.getPlaceholder(locationTypes) $}"><span ng-bind="$select.selected.name"></span></ui-select-match>
          <ui-select-choices repeat="location.location_id as location in $ctrl.getLocationsForLevel($index) | propsFilter: {name: $select.search}">
            <div ng-bind-html="location.name | highlight: $select.search"></div>
          </ui-select-choices>
    </ui-select>
</div>
<div class="row text-center" style="margin-top: 20px;">
    <button ng-click="$ctrl.apply()" class="btn btn-primary">Apply</button>
</div>

